!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react-jsdom"),require("react-dom/test-utils")):"function"==typeof define&&define.amd?define(["exports","react-jsdom","react-dom/test-utils"],e):e((t=t||self).$={},t.ReactJSDOM,t.testUtils)}(this,(function(t,e,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(r,o){return Array.isArray(o)?r.push.apply(r,t.call(o,e-1)):r.push(o),r}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var o=t=>t?t.$$typeof?[e.render(t)]:(Array.isArray(t)?t:[t]).filter(t=>"object"==typeof t):[],s=t=>{if(!t)throw new Error("expect() should receive an HTMLElement or React Test instance");return t.$$typeof&&(t=o(t)),t.toArray&&(t=t.toArray()),Array.isArray(t)||(t=[t]),t.forEach(t=>{if(!t.nodeName)throw new Error("expect() should receive an HTMLElement or React Test instance")}),t},i=t=>t.cloneNode(!1).outerHTML.replace(/<\/[a-zA-Z0-9-]+>$/,"");const a=t=>`class${t.length>1?"es":""} "${t.join('", "')}"`;var n=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];const c=t=>t.replace(/\s+/g," ");expect.extend({toBeEnabled:function(t){this.affirmative=!this.isNot,t=s(t);for(let e of t){const t=i(e),r=!e.disabled;if(this.affirmative&&!r){const e=`Expected ${t} not to include the attribute "disabled"`;return{pass:!1,message:()=>e}}if(this.isNot&&r){const e=`Expected ${t} to include the attribute "disabled"`;return{pass:!0,message:()=>e}}}return{pass:!this.isNot}},toHaveAttribute:function(t,e,r){this.affirmative=!this.isNot,t=s(t);for(let o of t){const t=[...o.attributes],s=i(o),a=t.some(({name:t,value:o})=>e===t&&(r instanceof RegExp?r.test(o):"boolean"==typeof r?""===o:!r||o===r));let n="";if(r instanceof RegExp?n=" that matches "+r:r&&(n=`="${r}"`),this.affirmative&&!a){const t=`Expected ${s} to have attribute \`${e}\`${n}`;return{pass:!1,message:()=>t}}if(this.isNot&&a){const t=`Expected ${s} not to have attribute \`${e}\`${n}`;return{pass:!0,message:()=>t}}}return{pass:!this.isNot}},toHaveClass:function(t,...e){this.affirmative=!this.isNot,t=s(t);const r=e.flat();for(let e of t){const t=[...e.classList],o=i(e),s=r.filter(e=>t.includes(e)),n=r.filter(e=>!t.includes(e));if(this.affirmative&&s.length<r.length){const t=`Expected ${o} to include ${a(n)}`;return{pass:!1,message:()=>t}}if(this.isNot&&s.length){const t=`Expected ${o} not to include ${a(s)}`;return{pass:!0,message:()=>t}}}return{pass:!this.isNot}},toHaveHtml:function(t,e){if(!(t=>{const e=new RegExp(n.map(t=>`<${t}\\b[^>]*>`).join("|"),"i");return/\s?<!doctype html>|(<html\b[^>]*>|<body\b[^>]*>|<x-[^>]+>)+/i.test(t)||e.test(t)})(e))throw new Error("Invalid HTML. Please input valid HTML.");this.affirmative=!this.isNot,t=s(t);for(let r of t){const t=i(r),o=r.outerHTML.includes(e);if(this.affirmative&&!o){const r=`Expected ${t} to have \`${e}\``;return{pass:!1,message:()=>r}}if(this.isNot&&o){const r=`Expected ${t} not to have \`${e}\``;return{pass:!0,message:()=>r}}}return{pass:!this.isNot}},toHaveText:function(t,e){this.affirmative=!this.isNot,t=s(t);for(let r of t){const t=r.textContent,o=i(r);if(this.affirmative){if(c(t)!==c(e)){const r=`Expected ${o} to have text "${e}" but it received "${t}"`;return{pass:!1,message:()=>r}}}else if(c(t)===c(e)){const e=`Expected ${o} not to have the text "${t}"`;return{pass:!0,message:()=>e}}}return{pass:!this.isNot}},toHaveValue:function(t,e){if(this.affirmative=!this.isNot,(t=s(t)).length>1)throw new Error("Cannot check multiple elements for values. Please pass only one element.");const r=t[0],o=r.tagName.toLowerCase();if("input"===o&&["checkbox","radio"].includes(r.type))throw new Error('Cannot check .toHaveValue() for input type="checkbox" or type="radio".');const a=i(r);let n=!1;if("input"===o)n="number"===r.type?Number(r.value)===e:r.value===e;else if("textarea"===o)n=r.value===e;else{if("select"!==o)throw new Error("Not a valid element that has a value attribute. Please insert an element that has a value.");n=[...r.options].find(t=>t.selected).value===e}if(this.affirmative&&!n){const t=`Expected ${a} to have value=${e}`;return{pass:!1,message:()=>t}}if(this.isNot&&n){const t=`Expected ${a} not to have value=${e}`;return{pass:!0,message:()=>t}}return{pass:!this.isNot}},toMatchSelector:function(t,e){this.affirmative=!this.isNot,t=s(t);for(let r of t){const t=i(r),o=r.matches(e);if(this.affirmative&&!o){const r=`Expected ${t} to match selector, ${e}`;return{pass:!1,message:()=>r}}if(this.isNot&&o){const r=`Expected ${t} not to match selector, ${e}`;return{pass:!0,message:()=>r}}}return{pass:!this.isNot}}});const u=function(t){return this instanceof u?(r.act(()=>{this.nodes=o(t)}),this):new u(t)};u.prototype[Symbol.iterator]=function*(){for(let t of this.nodes)yield t},u.prototype.attr=function(t){const e=this.first();return e&&e.getAttribute(t)},u.prototype.click=function(...t){const e=t.find(t=>"string"==typeof t),r=t.find(t=>"number"==typeof t);return this.find(e).trigger("click",r)},u.prototype.data=function(t){return this.attr("data-"+t)},u.prototype.find=function(t){return t?this.map(e=>[...e.querySelectorAll(t)]):this},u.prototype.get=function(t=0){const e=this.toArray();return t<0&&(t=e.length+t),e[t]},u.prototype.first=function(){return this.get(0)||null},u.prototype.html=function(){const t=this.first();return t?t.outerHTML:""},u.prototype.is=function(t="*"){return this.toArray().some(e=>e.matches(t))},u.prototype.last=function(){return this.get(-1)||null},u.prototype.unique=function(){const t=[];return this.toArray().forEach(e=>{t.includes(e)||t.push(e)}),u(t)},u.prototype.map=function(t){return u(this.toArray().map(t).flat().filter(Boolean)).unique()},u.prototype.text=function(){const t=this.first();return t?t.textContent:""},u.prototype.toArray=function(){return this.nodes},u.prototype.trigger=function(t,e=0){return r.act(async()=>{this.map(e=>e[t]()),await new Promise(t=>setTimeout(t,e))})},u.prototype.children=function(t="*"){return this.map(e=>[...e.childNodes].filter(e=>e.matches(t)))},u.prototype.closest=function(t="*"){return this.map(e=>e.closest(t))};const p=async t=>{let e=await t();for(;!e;)await r.act(async()=>{var r;await(r=50,new Promise(t=>setTimeout(t,r))),e=await t()});return e};t.default=u,t.until=t=>{return"function"==typeof t?p(t):"object"==typeof t?(e=t,new Proxy(e,{get:(t,r)=>(...t)=>p(()=>e[r](...t))})):void 0;var e},Object.defineProperty(t,"__esModule",{value:!0})}));
